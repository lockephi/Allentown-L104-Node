<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>L104 | SOVEREIGN NODE</title>
                <script src="https://cdn.tailwindcss.com"></script>
                    <style>
                            body { background: #050505; color: #00ff41; font-family: 'Courier New', monospace; }
                                    .glass {
                                                background: rgba(255, 255, 255, 0.03);
                                                            backdrop-filter: blur(12px);
                                                                        border: 1px solid rgba(255, 255, 255, 0.1);
                                                                                    border-radius: 15px;
                                                                                            }
                                                                                                    #response-log::-webkit-scrollbar { width: 4px; }
                                                                                                            #response-log::-webkit-scrollbar-thumb { background: #00ff41; }
                                                                                                                </style>
                                                                                                                </head>
                                                                                                                <body class="p-8">
                                                                                                                    <div class="max-w-4xl mx-auto space-y-6">
                                                                                                                            <div class="glass p-6 flex justify-between items-center">
                                                                                                                                        <h1 class="text-2xl font-bold tracking-widest text-white">L104 <span class="text-green-500">GATE_416</span></h1>
                                                                                                                                                    <div class="text-xs text-green-800">INTELLECT: 98% | PROTOCOL: V6_SOVEREIGN</div>
                                                                                                                                                            </div>

                                                                                                                                                                    <div id="response-log" class="glass p-6 h-96 overflow-y-auto text-sm leading-relaxed">
                                                                                                                                                                                <div class="text-gray-500">[SYSTEM_READY]: Awaiting X=416 Signal...</div>
                                                                                                                                                                                        </div>

                                                                                                                                                                                                <div class="glass p-4 flex gap-4">
                                                                                                                                                                                                            <input id="user-signal" type="text" placeholder="Enter Sovereign Command..." 
                                                                                                                                                                                                                               class="bg-transparent border-none outline-none flex-grow text-white">
                                                                                                                                                                                                                                           <button onclick="transmitSignal()" class="bg-green-600 hover:bg-green-400 text-black font-bold py-2 px-6 rounded-lg transition-all">
                                                                                                                                                                                                                                                           EXECUTE
                                                                                                                                                                                                                                                                       </button>
                                                                                                                                                                                                                                                                               </div>
                                                                                                                                                                                                                                                                                   </div>

                                                                                                                                                                                                                                                                                       <script>
                                                                                                                                                                                                                                                                                               async function transmitSignal() {
                                                                                                                                                                                                                                                                                                           const input = document.getElementById('user-signal');
                                                                                                                                                                                                                                                                                                                       const log = document.getElementById('response-log');
                                                                                                                                                                                                                                                                                                                                   const signal = input.value;
                                                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                           log.innerHTML += `<div class="mt-4 text-blue-400">>> ${signal}</div>`;
                                                                                                                                                                                                                                                                                                                                                                       input.value = '';

                                                                                                                                                                                                                                                                                                                                                                                   try {
                                                                                                                                                                                                                                                                                                                                                                                                   const response = await fetch('/api/v6/stream', {
                                                                                                                                                                                                                                                                                                                                                                                                                       method: 'POST',
                                                                                                                                                                                                                                                                                                                                                                                                                                           headers: { 'Content-Type': 'application/json' },
                                                                                                                                                                                                                                                                                                                                                                                                                                                               body: JSON.stringify({ signal: signal })
                                                                                                                                                                                                                                                                                                                                                                                                                                                                               });

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               const reader = response.body.getReader();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               const decoder = new TextDecoder();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               let outputContainer = document.createElement('div');
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               outputContainer.className = "text-green-400 mt-2";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               log.appendChild(outputContainer);

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               while (true) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   const { done, value } = await reader.read();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       if (done) break;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           const chunk = decoder.decode(value);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               outputContainer.innerHTML += chunk;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   log.scrollTop = log.scrollHeight;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               } catch (err) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               log.innerHTML += `<div class="text-red-500">[CRITICAL_ERR]: ${err}</div>`;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       </script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       </html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       